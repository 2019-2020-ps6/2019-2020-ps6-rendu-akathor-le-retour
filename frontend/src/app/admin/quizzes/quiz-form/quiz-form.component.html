<div class="container-fluid">
  <div class="row">
<div class="col-lg-12 card no-side-margin">
  <div class="row">
    <div class="col-lg-12 text-center">
    <h2>Créer un Quiz</h2></div>
  </div>
  <form class="quiz-form" [formGroup]="quizForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <label>Titre</label>
      <input type="text" formControlName="name" class="form-control" [ngClass]="{'is-invalid': submitted && f.name.errors }"/>
      <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
        <div *ngIf="f.name.errors.required">Veuillez entrer un titre</div>
      </div>
    </div>

    <div class="form-row">
      <label>Thème</label>
      <select (change)="addTheme()" formControlName="theme" class="form-control" [ngClass]="{'is-invalid': submitted && f.theme.errors }" [(ngModel)]="currentThemeSelected">
        <option value="">Choisir un thème</option>
        <option *ngFor="let theme of themeList" [ngValue]="theme">{{theme.name}}</option>
        <option formControlName="theme" [ngValue]="'add'">Ajouter un thème</option>
      </select>
      <div *ngIf="submitted && f.theme.errors" class="invalid-feedback">
        <div *ngIf="f.theme.errors.required">Veuillez choisir un thème</div>
      </div>
    </div>
    <div class="form-group" *ngIf="displayAddTheme">
      <label for="name">Nouveau thème:</label>
      <input type="text" class="form-control" formControlName="theme" id="name" ngModel name="theme" required/>
    </div>


    <div class="form-row">
      <label>Difficulté</label>
      <select formControlName="difficulte" class="form-control" [ngClass]="{'is-invalid': submitted && f.difficulte.errors }">
        <option value="">Niveau de difficulté</option>
        <option *ngFor="let difficulte of DIFICULTE" [value]="difficulte">
          {{difficulte}}
        </option>      </select>
      <div *ngIf="submitted && f.difficulte.errors" class="invalid-feedback">
        <div *ngIf="f.difficulte.errors.required">Veuillez choisir un niveau de difficulté</div>
      </div>
    </div>

    <button type="submit" class="button-card" >Créer le quiz</button>
    <br>
  </form></div>
  </div>
</div>
<!-- Uncomment below to see your form structure and how it changes-->
<!-- <br><br>{{quizForm.getRawValue() | json}} -->
